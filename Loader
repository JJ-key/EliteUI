--[[
    EliteUI Library for Roblox Mobile
    Version 2.0.1
    
    Features:
    - Triple-tap with 3 fingers to toggle UI
    - Dark blue theme
    - Mobile-optimized components
    - Draggable window
    - Dropdown, TextBox, Label, Paragraph
    - Keybind picker, Color picker
    - Toast notifications
]]

local EliteUI = {}
EliteUI.__index = EliteUI

-- Configuration
local Config = {
    Theme = {
        Primary = Color3.fromRGB(59, 130, 246),
        Background = Color3.fromRGB(26, 29, 36),
        Secondary = Color3.fromRGB(42, 45, 53),
        Text = Color3.fromRGB(255, 255, 255),
        TextSecondary = Color3.fromRGB(156, 163, 175)
    },
    ToggleKey = Enum.KeyCode.P,
    MobileGesture = {
        Enabled = true,
        Fingers = 3,
        TapCount = 2,
        TimeWindow = 0.5
    }
}

-- Mobile Gesture Detection
local function setupMobileGesture(gui)
    local UserInputService = game:GetService("UserInputService")
    local touches = {}
    local lastTapTime = 0
    local tapCount = 0
    
    UserInputService.TouchStarted:Connect(function(touch)
        table.insert(touches, touch)
        
        if #touches >= Config.MobileGesture.Fingers then
            local currentTime = tick()
            
            if currentTime - lastTapTime < Config.MobileGesture.TimeWindow then
                tapCount = tapCount + 1
            else
                tapCount = 1
            end
            
            lastTapTime = currentTime
            
            if tapCount >= Config.MobileGesture.TapCount then
                gui.Enabled = not gui.Enabled
                tapCount = 0
            end
        end
    end)
    
    UserInputService.TouchEnded:Connect(function(touch)
        for i, t in ipairs(touches) do
            if t == touch then
                table.remove(touches, i)
                break
            end
        end
    end)
end

-- Dragging functionality
local function makeDraggable(frame, handle)
    local UserInputService = game:GetService("UserInputService")
    local dragging = false
    local dragInput
    local dragStart
    local startPos
    
    handle.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = true
            dragStart = input.Position
            startPos = frame.Position
            
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)
    
    handle.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
            dragInput = input
        end
    end)
    
    UserInputService.InputChanged:Connect(function(input)
        if input == dragInput and dragging then
            local delta = input.Position - dragStart
            frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)
end

-- Create Window
function EliteUI:CreateWindow(options)
    local Window = {}
    Window.Name = options.Name or "EliteUI"
    Window.Tabs = {}
    
    -- Create ScreenGui
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "EliteUI"
    ScreenGui.ResetOnSpawn = false
    ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    ScreenGui.Parent = game:GetService("CoreGui")
    
    -- Main Frame
    local MainFrame = Instance.new("Frame")
    MainFrame.Size = UDim2.new(0, 400, 0, 350)
    MainFrame.Position = UDim2.new(0.5, -200, 0.5, -175)
    MainFrame.BackgroundColor3 = Config.Theme.Background
    MainFrame.BorderSizePixel = 0
    MainFrame.Active = true
    MainFrame.Parent = ScreenGui
    
    local Corner = Instance.new("UICorner")
    Corner.CornerRadius = UDim.new(0, 8)
    Corner.Parent = MainFrame
    
    local Stroke = Instance.new("UIStroke")
    Stroke.Color = Config.Theme.Primary
    Stroke.Transparency = 0.7
    Stroke.Parent = MainFrame
    
    -- Header
    local Header = Instance.new("Frame")
    Header.Size = UDim2.new(1, 0, 0, 40)
    Header.BackgroundColor3 = Config.Theme.Primary
    Header.BorderSizePixel = 0
    Header.Active = true
    Header.Parent = MainFrame
    
    local HeaderCorner = Instance.new("UICorner")
    HeaderCorner.CornerRadius = UDim.new(0, 8)
    HeaderCorner.Parent = Header
    
    -- Fix header corner overlap
    local HeaderFix = Instance.new("Frame")
    HeaderFix.Size = UDim2.new(1, 0, 0, 10)
    HeaderFix.Position = UDim2.new(0, 0, 1, -10)
    HeaderFix.BackgroundColor3 = Config.Theme.Primary
    HeaderFix.BorderSizePixel = 0
    HeaderFix.Parent = Header
    
    local Title = Instance.new("TextLabel")
    Title.Size = UDim2.new(1, -80, 1, 0)
    Title.Position = UDim2.new(0, 15, 0, 0)
    Title.BackgroundTransparency = 1
    Title.Text = Window.Name
    Title.TextColor3 = Config.Theme.Text
    Title.TextSize = 14
    Title.Font = Enum.Font.GothamSemibold
    Title.TextXAlignment = Enum.TextXAlignment.Left
    Title.Parent = Header
    
    -- Make window draggable by header
    makeDraggable(MainFrame, Header)
    
    -- Setup mobile gesture
    setupMobileGesture(ScreenGui)
    
    -- Tab Container
    local TabContainer = Instance.new("ScrollingFrame")
    TabContainer.Size = UDim2.new(0, 120, 1, -50)
    TabContainer.Position = UDim2.new(0, 5, 0, 45)
    TabContainer.BackgroundColor3 = Color3.fromRGB(22, 24, 29)
    TabContainer.BorderSizePixel = 0
    TabContainer.ScrollBarThickness = 2
    TabContainer.CanvasSize = UDim2.new(0, 0, 0, 0)
    TabContainer.AutomaticCanvasSize = Enum.AutomaticSize.Y
    TabContainer.Parent = MainFrame
    
    local TabCorner = Instance.new("UICorner")
    TabCorner.CornerRadius = UDim.new(0, 6)
    TabCorner.Parent = TabContainer
    
    local TabList = Instance.new("UIListLayout")
    TabList.Padding = UDim.new(0, 4)
    TabList.Parent = TabContainer
    
    local TabPadding = Instance.new("UIPadding")
    TabPadding.PaddingTop = UDim.new(0, 5)
    TabPadding.PaddingLeft = UDim.new(0, 5)
    TabPadding.PaddingRight = UDim.new(0, 5)
    TabPadding.Parent = TabContainer
    
    -- Content Container
    local ContentContainer = Instance.new("Frame")
    ContentContainer.Size = UDim2.new(1, -135, 1, -55)
    ContentContainer.Position = UDim2.new(0, 130, 0, 50)
    ContentContainer.BackgroundTransparency = 1
    ContentContainer.Parent = MainFrame
    
    -- Create Tab function
    function Window:CreateTab(name, icon)
        local Tab = {}
        Tab.Name = name
        Tab.Elements = {}
        
        local TabButton = Instance.new("TextButton")
        TabButton.Size = UDim2.new(1, 0, 0, 32)
        TabButton.BackgroundColor3 = Config.Theme.Secondary
        TabButton.BorderSizePixel = 0
        TabButton.Text = name
        TabButton.TextColor3 = Config.Theme.TextSecondary
        TabButton.TextSize = 12
        TabButton.Font = Enum.Font.GothamMedium
        TabButton.Parent = TabContainer
        
        local BtnCorner = Instance.new("UICorner")
        BtnCorner.CornerRadius = UDim.new(0, 6)
        BtnCorner.Parent = TabButton
        
        -- Tab content frame (ScrollingFrame for scrollable content)
        local TabContent = Instance.new("ScrollingFrame")
        TabContent.Size = UDim2.new(1, 0, 1, 0)
        TabContent.BackgroundTransparency = 1
        TabContent.ScrollBarThickness = 3
        TabContent.CanvasSize = UDim2.new(0, 0, 0, 0)
        TabContent.AutomaticCanvasSize = Enum.AutomaticSize.Y
        TabContent.Visible = #Window.Tabs == 0
        TabContent.Parent = ContentContainer
        
        -- UIListLayout for tab content (THIS FIXES THE STACKING ISSUE)
        local ContentList = Instance.new("UIListLayout")
        ContentList.Padding = UDim.new(0, 8)
        ContentList.Parent = TabContent
        
        -- Padding for content
        local ContentPadding = Instance.new("UIPadding")
        ContentPadding.PaddingTop = UDim.new(0, 5)
        ContentPadding.PaddingRight = UDim.new(0, 5)
        ContentPadding.Parent = TabContent
        
        TabButton.MouseButton1Click:Connect(function()
            for _, t in ipairs(Window.Tabs) do
                t.Content.Visible = false
                t.Button.BackgroundColor3 = Config.Theme.Secondary
                t.Button.TextColor3 = Config.Theme.TextSecondary
            end
            TabContent.Visible = true
            TabButton.BackgroundColor3 = Config.Theme.Primary
            TabButton.TextColor3 = Config.Theme.Text
        end)
        
        if #Window.Tabs == 0 then
            TabButton.BackgroundColor3 = Config.Theme.Primary
            TabButton.TextColor3 = Config.Theme.Text
        end
        
        Tab.Button = TabButton
        Tab.Content = TabContent
        table.insert(Window.Tabs, Tab)
        
        -- Create Section
        function Tab:CreateSection(name)
            local Section = Instance.new("Frame")
            Section.Size = UDim2.new(1, -10, 0, 25)
            Section.BackgroundTransparency = 1
            Section.Parent = TabContent
            
            local SectionLabel = Instance.new("TextLabel")
            SectionLabel.Size = UDim2.new(1, 0, 1, 0)
            SectionLabel.BackgroundTransparency = 1
            SectionLabel.Text = name
            SectionLabel.TextColor3 = Config.Theme.TextSecondary
            SectionLabel.TextSize = 11
            SectionLabel.Font = Enum.Font.GothamMedium
            SectionLabel.TextXAlignment = Enum.TextXAlignment.Left
            SectionLabel.Parent = Section
            
            return Section
        end
        
        -- Create Button
        function Tab:CreateButton(options)
            local Button = Instance.new("TextButton")
            Button.Size = UDim2.new(1, -10, 0, 36)
            Button.BackgroundColor3 = Config.Theme.Primary
            Button.BorderSizePixel = 0
            Button.Text = options.Name
            Button.TextColor3 = Config.Theme.Text
            Button.TextSize = 12
            Button.Font = Enum.Font.GothamMedium
            Button.Parent = TabContent
            
            local Corner = Instance.new("UICorner")
            Corner.CornerRadius = UDim.new(0, 6)
            Corner.Parent = Button
            
            Button.MouseButton1Click:Connect(function()
                if options.Callback then
                    options.Callback()
                end
            end)
            
            return Button
        end
        
        -- Create Toggle
        function Tab:CreateToggle(options)
            local ToggleFrame = Instance.new("Frame")
            ToggleFrame.Size = UDim2.new(1, -10, 0, 36)
            ToggleFrame.BackgroundColor3 = Config.Theme.Secondary
            ToggleFrame.BorderSizePixel = 0
            ToggleFrame.Parent = TabContent
            
            local Corner = Instance.new("UICorner")
            Corner.CornerRadius = UDim.new(0, 6)
            Corner.Parent = ToggleFrame
            
            local Label = Instance.new("TextLabel")
            Label.Size = UDim2.new(1, -60, 1, 0)
            Label.Position = UDim2.new(0, 12, 0, 0)
            Label.BackgroundTransparency = 1
            Label.Text = options.Name
            Label.TextColor3 = Config.Theme.Text
            Label.TextSize = 12
            Label.Font = Enum.Font.GothamMedium
            Label.TextXAlignment = Enum.TextXAlignment.Left
            Label.Parent = ToggleFrame
            
            local Toggle = Instance.new("Frame")
            Toggle.Size = UDim2.new(0, 40, 0, 20)
            Toggle.Position = UDim2.new(1, -50, 0.5, -10)
            Toggle.BackgroundColor3 = options.CurrentValue and Config.Theme.Primary or Color3.fromRGB(75, 85, 99)
            Toggle.BorderSizePixel = 0
            Toggle.Parent = ToggleFrame
            
            local ToggleCorner = Instance.new("UICorner")
            ToggleCorner.CornerRadius = UDim.new(1, 0)
            ToggleCorner.Parent = Toggle
            
            local Indicator = Instance.new("Frame")
            Indicator.Size = UDim2.new(0, 16, 0, 16)
            Indicator.Position = options.CurrentValue and UDim2.new(1, -18, 0.5, -8) or UDim2.new(0, 2, 0.5, -8)
            Indicator.BackgroundColor3 = Color3.new(1, 1, 1)
            Indicator.BorderSizePixel = 0
            Indicator.Parent = Toggle
            
            local IndicatorCorner = Instance.new("UICorner")
            IndicatorCorner.CornerRadius = UDim.new(1, 0)
            IndicatorCorner.Parent = Indicator
            
            local isEnabled = options.CurrentValue or false
            
            local ToggleButton = Instance.new("TextButton")
            ToggleButton.Size = UDim2.new(1, 0, 1, 0)
            ToggleButton.BackgroundTransparency = 1
            ToggleButton.Text = ""
            ToggleButton.Parent = ToggleFrame
            
            ToggleButton.MouseButton1Click:Connect(function()
                isEnabled = not isEnabled
                Toggle.BackgroundColor3 = isEnabled and Config.Theme.Primary or Color3.fromRGB(75, 85, 99)
                Indicator.Position = isEnabled and UDim2.new(1, -18, 0.5, -8) or UDim2.new(0, 2, 0.5, -8)
                if options.Callback then
                    options.Callback(isEnabled)
                end
            end)
            
            return ToggleFrame
        end
        
        -- Create Slider
        function Tab:CreateSlider(options)
            local SliderFrame = Instance.new("Frame")
            SliderFrame.Size = UDim2.new(1, -10, 0, 50)
            SliderFrame.BackgroundColor3 = Config.Theme.Secondary
            SliderFrame.BorderSizePixel = 0
            SliderFrame.Parent = TabContent
            
            local Corner = Instance.new("UICorner")
            Corner.CornerRadius = UDim.new(0, 6)
            Corner.Parent = SliderFrame
            
            local Label = Instance.new("TextLabel")
            Label.Size = UDim2.new(0.7, 0, 0, 20)
            Label.Position = UDim2.new(0, 12, 0, 6)
            Label.BackgroundTransparency = 1
            Label.Text = options.Name
            Label.TextColor3 = Config.Theme.Text
            Label.TextSize = 12
            Label.Font = Enum.Font.GothamMedium
            Label.TextXAlignment = Enum.TextXAlignment.Left
            Label.Parent = SliderFrame
            
            local Value = Instance.new("TextLabel")
            Value.Size = UDim2.new(0.3, -12, 0, 20)
            Value.Position = UDim2.new(0.7, 0, 0, 6)
            Value.BackgroundTransparency = 1
            Value.Text = tostring(options.CurrentValue or options.Min)
            Value.TextColor3 = Config.Theme.Primary
            Value.TextSize = 12
            Value.Font = Enum.Font.GothamMedium
            Value.TextXAlignment = Enum.TextXAlignment.Right
            Value.Parent = SliderFrame
            
            local SliderBg = Instance.new("Frame")
            SliderBg.Size = UDim2.new(1, -24, 0, 6)
            SliderBg.Position = UDim2.new(0, 12, 0, 34)
            SliderBg.BackgroundColor3 = Color3.fromRGB(75, 85, 99)
            SliderBg.BorderSizePixel = 0
            SliderBg.Parent = SliderFrame
            
            local BgCorner = Instance.new("UICorner")
            BgCorner.CornerRadius = UDim.new(1, 0)
            BgCorner.Parent = SliderBg
            
            local SliderFill = Instance.new("Frame")
            local initialPercent = ((options.CurrentValue or options.Min) - options.Min) / (options.Max - options.Min)
            SliderFill.Size = UDim2.new(initialPercent, 0, 1, 0)
            SliderFill.BackgroundColor3 = Config.Theme.Primary
            SliderFill.BorderSizePixel = 0
            SliderFill.Parent = SliderBg
            
            local FillCorner = Instance.new("UICorner")
            FillCorner.CornerRadius = UDim.new(1, 0)
            FillCorner.Parent = SliderFill
            
            -- Slider interaction
            local SliderButton = Instance.new("TextButton")
            SliderButton.Size = UDim2.new(1, 0, 1, 10)
            SliderButton.Position = UDim2.new(0, 0, 0, -5)
            SliderButton.BackgroundTransparency = 1
            SliderButton.Text = ""
            SliderButton.Parent = SliderBg
            
            local currentValue = options.CurrentValue or options.Min
            local dragging = false
            
            local function updateSlider(input)
                local pos = input.Position
                local sliderPos = SliderBg.AbsolutePosition
                local sliderSize = SliderBg.AbsoluteSize
                
                local percent = math.clamp((pos.X - sliderPos.X) / sliderSize.X, 0, 1)
                local value = math.floor(options.Min + (options.Max - options.Min) * percent)
                
                SliderFill.Size = UDim2.new(percent, 0, 1, 0)
                Value.Text = tostring(value)
                currentValue = value
                
                if options.Callback then
                    options.Callback(value)
                end
            end
            
            SliderButton.InputBegan:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                    dragging = true
                    updateSlider(input)
                end
            end)
            
            SliderButton.InputEnded:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                    dragging = false
                end
            end)
            
            game:GetService("UserInputService").InputChanged:Connect(function(input)
                if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
                    updateSlider(input)
                end
            end)
            
            return SliderFrame
        end
        
        -- Create Dropdown
        function Tab:CreateDropdown(options)
            local DropdownFrame = Instance.new("Frame")
            DropdownFrame.Size = UDim2.new(1, -10, 0, 36)
            DropdownFrame.BackgroundColor3 = Config.Theme.Secondary
            DropdownFrame.BorderSizePixel = 0
            DropdownFrame.ClipsDescendants = true
            DropdownFrame.Parent = TabContent
            
            local Corner = Instance.new("UICorner")
            Corner.CornerRadius = UDim.new(0, 6)
            Corner.Parent = DropdownFrame
            
            local Label = Instance.new("TextLabel")
            Label.Size = UDim2.new(0.5, -10, 0, 36)
            Label.Position = UDim2.new(0, 12, 0, 0)
            Label.BackgroundTransparency = 1
            Label.Text = options.Name
            Label.TextColor3 = Config.Theme.Text
            Label.TextSize = 12
            Label.Font = Enum.Font.GothamMedium
            Label.TextXAlignment = Enum.TextXAlignment.Left
            Label.Parent = DropdownFrame
            
            local Selected = Instance.new("TextButton")
            Selected.Size = UDim2.new(0.5, -10, 0, 28)
            Selected.Position = UDim2.new(0.5, 0, 0, 4)
            Selected.BackgroundColor3 = Config.Theme.Primary
            Selected.BorderSizePixel = 0
            Selected.Text = options.CurrentValue or options.Options[1] or "Select"
            Selected.TextColor3 = Config.Theme.Text
            Selected.TextSize = 11
            Selected.Font = Enum.Font.GothamMedium
            Selected.Parent = DropdownFrame
            
            local SelCorner = Instance.new("UICorner")
            SelCorner.CornerRadius = UDim.new(0, 4)
            SelCorner.Parent = Selected
            
            local isOpen = false
            local optionButtons = {}
            
            for i, option in ipairs(options.Options or {}) do
                local OptionBtn = Instance.new("TextButton")
                OptionBtn.Size = UDim2.new(0.5, -10, 0, 28)
                OptionBtn.Position = UDim2.new(0.5, 0, 0, 4 + (i * 32))
                OptionBtn.BackgroundColor3 = Color3.fromRGB(45, 55, 72)
                OptionBtn.BorderSizePixel = 0
                OptionBtn.Text = option
                OptionBtn.TextColor3 = Config.Theme.TextSecondary
                OptionBtn.TextSize = 11
                OptionBtn.Font = Enum.Font.GothamMedium
                OptionBtn.Visible = false
                OptionBtn.Parent = DropdownFrame
                
                local OptCorner = Instance.new("UICorner")
                OptCorner.CornerRadius = UDim.new(0, 4)
                OptCorner.Parent = OptionBtn
                
                OptionBtn.MouseButton1Click:Connect(function()
                    Selected.Text = option
                    isOpen = false
                    DropdownFrame.Size = UDim2.new(1, -10, 0, 36)
                    for _, btn in ipairs(optionButtons) do
                        btn.Visible = false
                    end
                    if options.Callback then
                        options.Callback(option)
                    end
                end)
                
                table.insert(optionButtons, OptionBtn)
            end
            
            Selected.MouseButton1Click:Connect(function()
                isOpen = not isOpen
                if isOpen then
                    DropdownFrame.Size = UDim2.new(1, -10, 0, 36 + (#options.Options * 32))
                    for _, btn in ipairs(optionButtons) do
                        btn.Visible = true
                    end
                else
                    DropdownFrame.Size = UDim2.new(1, -10, 0, 36)
                    for _, btn in ipairs(optionButtons) do
                        btn.Visible = false
                    end
                end
            end)
            
            return DropdownFrame
        end
        
        -- Create TextBox
        function Tab:CreateTextBox(options)
            local TextBoxFrame = Instance.new("Frame")
            TextBoxFrame.Size = UDim2.new(1, -10, 0, 36)
            TextBoxFrame.BackgroundColor3 = Config.Theme.Secondary
            TextBoxFrame.BorderSizePixel = 0
            TextBoxFrame.Parent = TabContent
            
            local Corner = Instance.new("UICorner")
            Corner.CornerRadius = UDim.new(0, 6)
            Corner.Parent = TextBoxFrame
            
            local Label = Instance.new("TextLabel")
            Label.Size = UDim2.new(0.4, 0, 1, 0)
            Label.Position = UDim2.new(0, 12, 0, 0)
            Label.BackgroundTransparency = 1
            Label.Text = options.Name
            Label.TextColor3 = Config.Theme.Text
            Label.TextSize = 12
            Label.Font = Enum.Font.GothamMedium
            Label.TextXAlignment = Enum.TextXAlignment.Left
            Label.Parent = TextBoxFrame
            
            local InputBox = Instance.new("TextBox")
            InputBox.Size = UDim2.new(0.55, -12, 0, 26)
            InputBox.Position = UDim2.new(0.45, 0, 0.5, -13)
            InputBox.BackgroundColor3 = Color3.fromRGB(30, 35, 45)
            InputBox.BorderSizePixel = 0
            InputBox.Text = options.CurrentValue or ""
            InputBox.PlaceholderText = options.Placeholder or "Enter text..."
            InputBox.TextColor3 = Config.Theme.Text
            InputBox.PlaceholderColor3 = Config.Theme.TextSecondary
            InputBox.TextSize = 11
            InputBox.Font = Enum.Font.GothamMedium
            InputBox.ClearTextOnFocus = options.ClearOnFocus or false
            InputBox.Parent = TextBoxFrame
            
            local InputCorner = Instance.new("UICorner")
            InputCorner.CornerRadius = UDim.new(0, 4)
            InputCorner.Parent = InputBox
            
            local InputStroke = Instance.new("UIStroke")
            InputStroke.Color = Config.Theme.Primary
            InputStroke.Transparency = 0.7
            InputStroke.Parent = InputBox
            
            InputBox.FocusLost:Connect(function(enterPressed)
                if options.Callback then
                    options.Callback(InputBox.Text, enterPressed)
                end
            end)
            
            return TextBoxFrame
        end
        
        -- Create Label
        function Tab:CreateLabel(text)
            local LabelFrame = Instance.new("Frame")
            LabelFrame.Size = UDim2.new(1, -10, 0, 30)
            LabelFrame.BackgroundColor3 = Config.Theme.Secondary
            LabelFrame.BorderSizePixel = 0
            LabelFrame.Parent = TabContent
            
            local Corner = Instance.new("UICorner")
            Corner.CornerRadius = UDim.new(0, 6)
            Corner.Parent = LabelFrame
            
            local LabelText = Instance.new("TextLabel")
            LabelText.Size = UDim2.new(1, -24, 1, 0)
            LabelText.Position = UDim2.new(0, 12, 0, 0)
            LabelText.BackgroundTransparency = 1
            LabelText.Text = text
            LabelText.TextColor3 = Config.Theme.TextSecondary
            LabelText.TextSize = 12
            LabelText.Font = Enum.Font.GothamMedium
            LabelText.TextXAlignment = Enum.TextXAlignment.Left
            LabelText.TextWrapped = true
            LabelText.Parent = LabelFrame
            
            local labelObj = {}
            function labelObj:SetText(newText)
                LabelText.Text = newText
            end
            
            return labelObj
        end
        
        -- Create Paragraph
        function Tab:CreateParagraph(options)
            local ParagraphFrame = Instance.new("Frame")
            ParagraphFrame.Size = UDim2.new(1, -10, 0, 60)
            ParagraphFrame.BackgroundColor3 = Config.Theme.Secondary
            ParagraphFrame.BorderSizePixel = 0
            ParagraphFrame.Parent = TabContent
            
            local Corner = Instance.new("UICorner")
            Corner.CornerRadius = UDim.new(0, 6)
            Corner.Parent = ParagraphFrame
            
            local Title = Instance.new("TextLabel")
            Title.Size = UDim2.new(1, -24, 0, 20)
            Title.Position = UDim2.new(0, 12, 0, 8)
            Title.BackgroundTransparency = 1
            Title.Text = options.Title or "Info"
            Title.TextColor3 = Config.Theme.Primary
            Title.TextSize = 13
            Title.Font = Enum.Font.GothamSemibold
            Title.TextXAlignment = Enum.TextXAlignment.Left
            Title.Parent = ParagraphFrame
            
            local Content = Instance.new("TextLabel")
            Content.Size = UDim2.new(1, -24, 0, 30)
            Content.Position = UDim2.new(0, 12, 0, 28)
            Content.BackgroundTransparency = 1
            Content.Text = options.Content or ""
            Content.TextColor3 = Config.Theme.TextSecondary
            Content.TextSize = 11
            Content.Font = Enum.Font.Gotham
            Content.TextXAlignment = Enum.TextXAlignment.Left
            Content.TextWrapped = true
            Content.Parent = ParagraphFrame
            
            return ParagraphFrame
        end
        
        -- Create Keybind
        function Tab:CreateKeybind(options)
            local KeybindFrame = Instance.new("Frame")
            KeybindFrame.Size = UDim2.new(1, -10, 0, 36)
            KeybindFrame.BackgroundColor3 = Config.Theme.Secondary
            KeybindFrame.BorderSizePixel = 0
            KeybindFrame.Parent = TabContent
            
            local Corner = Instance.new("UICorner")
            Corner.CornerRadius = UDim.new(0, 6)
            Corner.Parent = KeybindFrame
            
            local Label = Instance.new("TextLabel")
            Label.Size = UDim2.new(0.6, 0, 1, 0)
            Label.Position = UDim2.new(0, 12, 0, 0)
            Label.BackgroundTransparency = 1
            Label.Text = options.Name
            Label.TextColor3 = Config.Theme.Text
            Label.TextSize = 12
            Label.Font = Enum.Font.GothamMedium
            Label.TextXAlignment = Enum.TextXAlignment.Left
            Label.Parent = KeybindFrame
            
            local currentKey = options.CurrentKeybind or Enum.KeyCode.E
            
            local KeyButton = Instance.new("TextButton")
            KeyButton.Size = UDim2.new(0, 60, 0, 26)
            KeyButton.Position = UDim2.new(1, -70, 0.5, -13)
            KeyButton.BackgroundColor3 = Config.Theme.Primary
            KeyButton.BorderSizePixel = 0
            KeyButton.Text = currentKey.Name
            KeyButton.TextColor3 = Config.Theme.Text
            KeyButton.TextSize = 11
            KeyButton.Font = Enum.Font.GothamMedium
            KeyButton.Parent = KeybindFrame
            
            local KeyCorner = Instance.new("UICorner")
            KeyCorner.CornerRadius = UDim.new(0, 4)
            KeyCorner.Parent = KeyButton
            
            local listening = false
            local UserInputService = game:GetService("UserInputService")
            
            KeyButton.MouseButton1Click:Connect(function()
                listening = true
                KeyButton.Text = "..."
                KeyButton.BackgroundColor3 = Color3.fromRGB(234, 179, 8)
            end)
            
            UserInputService.InputBegan:Connect(function(input)
                if listening and input.UserInputType == Enum.UserInputType.Keyboard then
                    currentKey = input.KeyCode
                    KeyButton.Text = currentKey.Name
                    KeyButton.BackgroundColor3 = Config.Theme.Primary
                    listening = false
                    if options.Callback then
                        options.Callback(currentKey)
                    end
                elseif input.KeyCode == currentKey and not listening then
                    if options.HoldCallback then
                        options.HoldCallback()
                    end
                end
            end)
            
            return KeybindFrame
        end
        
        -- Create Color Picker
        function Tab:CreateColorPicker(options)
            local ColorFrame = Instance.new("Frame")
            ColorFrame.Size = UDim2.new(1, -10, 0, 36)
            ColorFrame.BackgroundColor3 = Config.Theme.Secondary
            ColorFrame.BorderSizePixel = 0
            ColorFrame.Parent = TabContent
            
            local Corner = Instance.new("UICorner")
            Corner.CornerRadius = UDim.new(0, 6)
            Corner.Parent = ColorFrame
            
            local Label = Instance.new("TextLabel")
            Label.Size = UDim2.new(0.6, 0, 1, 0)
            Label.Position = UDim2.new(0, 12, 0, 0)
            Label.BackgroundTransparency = 1
            Label.Text = options.Name
            Label.TextColor3 = Config.Theme.Text
            Label.TextSize = 12
            Label.Font = Enum.Font.GothamMedium
            Label.TextXAlignment = Enum.TextXAlignment.Left
            Label.Parent = ColorFrame
            
            local currentColor = options.CurrentColor or Color3.fromRGB(59, 130, 246)
            
            local ColorPreview = Instance.new("Frame")
            ColorPreview.Size = UDim2.new(0, 50, 0, 22)
            ColorPreview.Position = UDim2.new(1, -60, 0.5, -11)
            ColorPreview.BackgroundColor3 = currentColor
            ColorPreview.BorderSizePixel = 0
            ColorPreview.Parent = ColorFrame
            
            local PreviewCorner = Instance.new("UICorner")
            PreviewCorner.CornerRadius = UDim.new(0, 4)
            PreviewCorner.Parent = ColorPreview
            
            local PreviewStroke = Instance.new("UIStroke")
            PreviewStroke.Color = Color3.new(1, 1, 1)
            PreviewStroke.Transparency = 0.8
            PreviewStroke.Parent = ColorPreview
            
            local presetColors = {
                Color3.fromRGB(59, 130, 246),
                Color3.fromRGB(239, 68, 68),
                Color3.fromRGB(34, 197, 94),
                Color3.fromRGB(234, 179, 8),
                Color3.fromRGB(168, 85, 247),
                Color3.fromRGB(236, 72, 153),
                Color3.fromRGB(20, 184, 166),
                Color3.fromRGB(249, 115, 22)
            }
            
            local colorObj = {}
            colorObj.Value = currentColor
            
            function colorObj:SetColor(color)
                currentColor = color
                ColorPreview.BackgroundColor3 = color
                colorObj.Value = color
                if options.Callback then
                    options.Callback(color)
                end
            end
            
            local PreviewButton = Instance.new("TextButton")
            PreviewButton.Size = UDim2.new(1, 0, 1, 0)
            PreviewButton.BackgroundTransparency = 1
            PreviewButton.Text = ""
            PreviewButton.Parent = ColorPreview
            
            local colorIndex = 1
            PreviewButton.MouseButton1Click:Connect(function()
                colorIndex = colorIndex + 1
                if colorIndex > #presetColors then
                    colorIndex = 1
                end
                colorObj:SetColor(presetColors[colorIndex])
            end)
            
            return colorObj
        end
        
        return Tab
    end
    
    -- Create Notification function
    function Window:Notify(options)
        local NotifGui = Instance.new("ScreenGui")
        NotifGui.Name = "EliteUI_Notification"
        NotifGui.Parent = game:GetService("CoreGui")
        
        local NotifFrame = Instance.new("Frame")
        NotifFrame.Size = UDim2.new(0, 280, 0, 80)
        NotifFrame.Position = UDim2.new(1, 10, 1, -90)
        NotifFrame.BackgroundColor3 = Config.Theme.Background
        NotifFrame.BorderSizePixel = 0
        NotifFrame.Parent = NotifGui
        
        local Corner = Instance.new("UICorner")
        Corner.CornerRadius = UDim.new(0, 8)
        Corner.Parent = NotifFrame
        
        local Stroke = Instance.new("UIStroke")
        Stroke.Color = Config.Theme.Primary
        Stroke.Transparency = 0.5
        Stroke.Parent = NotifFrame
        
        local Accent = Instance.new("Frame")
        Accent.Size = UDim2.new(0, 4, 1, -10)
        Accent.Position = UDim2.new(0, 5, 0, 5)
        Accent.BackgroundColor3 = Config.Theme.Primary
        Accent.BorderSizePixel = 0
        Accent.Parent = NotifFrame
        
        local AccentCorner = Instance.new("UICorner")
        AccentCorner.CornerRadius = UDim.new(0, 2)
        AccentCorner.Parent = Accent
        
        local Title = Instance.new("TextLabel")
        Title.Size = UDim2.new(1, -30, 0, 25)
        Title.Position = UDim2.new(0, 18, 0, 10)
        Title.BackgroundTransparency = 1
        Title.Text = options.Title or "Notification"
        Title.TextColor3 = Config.Theme.Text
        Title.TextSize = 14
        Title.Font = Enum.Font.GothamSemibold
        Title.TextXAlignment = Enum.TextXAlignment.Left
        Title.Parent = NotifFrame
        
        local Content = Instance.new("TextLabel")
        Content.Size = UDim2.new(1, -30, 0, 40)
        Content.Position = UDim2.new(0, 18, 0, 35)
        Content.BackgroundTransparency = 1
        Content.Text = options.Content or ""
        Content.TextColor3 = Config.Theme.TextSecondary
        Content.TextSize = 12
        Content.Font = Enum.Font.Gotham
        Content.TextXAlignment = Enum.TextXAlignment.Left
        Content.TextWrapped = true
        Content.Parent = NotifFrame
        
        NotifFrame:TweenPosition(UDim2.new(1, -290, 1, -90), Enum.EasingDirection.Out, Enum.EasingStyle.Quart, 0.3, true)
        
        task.delay(options.Duration or 3, function()
            NotifFrame:TweenPosition(UDim2.new(1, 10, 1, -90), Enum.EasingDirection.In, Enum.EasingStyle.Quart, 0.3, true)
            task.wait(0.35)
            NotifGui:Destroy()
        end)
    end
    
    return Window
end

return EliteUI
